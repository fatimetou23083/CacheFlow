<div class="form-container">
  <div class="form-header">
    <h1>{{ isEditMode ? 'Modifier le Produit' : 'Nouveau Produit' }}</h1>
    <button class="btn btn-secondary" (click)="cancel()">Annuler</button>
  </div>

  <div *ngIf="loading && !isEditMode" class="loading">
    <p>Chargement...</p>
  </div>

  <div *ngIf="error" class="error">
    <p>{{ error }}</p>
  </div>

  <form (ngSubmit)="onSubmit()" *ngIf="!loading || isEditMode" class="product-form">
    <div class="form-group">
      <label for="name">Nom du produit *</label>
      <input
        type="text"
        id="name"
        [(ngModel)]="product.name"
        name="name"
        required
        placeholder="Ex: iPhone 15"
        class="form-control"
      />
    </div>

    <div class="form-group">
      <label for="price">Prix *</label>
      <input
        type="number"
        id="price"
        [(ngModel)]="product.price"
        name="price"
        required
        min="0"
        step="0.01"
        placeholder="Ex: 999.99"
        class="form-control"
      />
    </div>

    <div class="form-group">
      <label for="category">Catégorie *</label>
      <input
        type="text"
        id="category"
        [(ngModel)]="product.category"
        name="category"
        required
        placeholder="Ex: Électronique"
        class="form-control"
      />
    </div>

    <div class="form-actions">
      <button type="button" class="btn btn-secondary" (click)="cancel()">
        Annuler
      </button>
      <button type="submit" class="btn btn-primary" [disabled]="!isFormValid() || loading">
        {{ isEditMode ? 'Mettre à jour' : 'Créer' }}
      </button>
    </div>
  </form>
</div>

